{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\INFOSYS\\\\Desktop\\\\Dish-front-end\\\\src\\\\shared\\\\components\\\\Navigation\\\\MainNavigation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useNavigate } from 'react';\nimport { DishContext } from '../../context/dish-context';\nimport { useHttpClient } from '../../hooks/http-hook';\nimport NavLinks from './NavLinks';\nimport LoadingSpinner from '../UIElements/LoadingSpinner';\nimport ErrorModal from '../UIElements/ErrorModal';\nimport './MainNavigation.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MainNavigation = props => {\n  _s();\n\n  const navigate = useNavigate();\n  const dish = useContext(DishContext);\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n  console.log(dish.category, \"main navigation\", dish.category.length > 0, !isLoading);\n  useEffect(() => {\n    const fetchDishes = async () => {\n      try {\n        const responseData = await sendRequest(`https://run.mocky.io/v3/a67edc87-49c7-4822-9cb4-e2ef94cb3099`);\n        console.log(responseData);\n        dish.setRestname(responseData[0]);\n        dish.setCategory(responseData[0]);\n        dish.setDishes(responseData[0]);\n        navigate();\n      } catch (err) {}\n    };\n\n    fetchDishes();\n  }, [sendRequest]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onClear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: [\"  \", /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 49\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"main-navigation__header-nav\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"nav-links\",\n        children: !isLoading && dish.category.length > 0 && dish.category.map(cat => /*#__PURE__*/_jsxDEV(NavLinks, {\n          title: cat.category,\n          categoryId: cat.catId\n        }, cat.catId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this);\n};\n\n_s(MainNavigation, \"ZeTxjN7T/Z3U7EM0I/seFRGsZpI=\", false, function () {\n  return [useNavigate, useHttpClient];\n});\n\n_c = MainNavigation;\nexport default MainNavigation;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainNavigation\");","map":{"version":3,"names":["React","useContext","useEffect","useNavigate","DishContext","useHttpClient","NavLinks","LoadingSpinner","ErrorModal","MainNavigation","props","navigate","dish","isLoading","error","sendRequest","clearError","console","log","category","length","fetchDishes","responseData","setRestname","setCategory","setDishes","err","map","cat","catId"],"sources":["C:/Users/INFOSYS/Desktop/Dish-front-end/src/shared/components/Navigation/MainNavigation.js"],"sourcesContent":["import React, { useContext,useEffect,useNavigate } from 'react';\nimport { DishContext } from '../../context/dish-context';\nimport { useHttpClient } from '../../hooks/http-hook';\nimport NavLinks from './NavLinks';\nimport LoadingSpinner from '../UIElements/LoadingSpinner';\nimport ErrorModal from '../UIElements/ErrorModal';\nimport './MainNavigation.css';\n\nconst MainNavigation = props => {\n     const navigate = useNavigate()\n     const dish = useContext(DishContext);\n     const { isLoading, error, sendRequest, clearError } = useHttpClient();\n     console.log(dish.category,\"main navigation\",dish.category.length>0,!isLoading)\n     useEffect(() => {\n      const fetchDishes = async () => {\n        try {\n          const responseData = await sendRequest(\n            `https://run.mocky.io/v3/a67edc87-49c7-4822-9cb4-e2ef94cb3099`\n          );\n          console.log(responseData)\n          dish.setRestname(responseData[0])\n          dish.setCategory(responseData[0]);\n          dish.setDishes(responseData[0]);\n          navigate()\n          \n        } catch (err) {}\n      };\n      fetchDishes();\n    }, [sendRequest]);\n \n\n  return (\n   \n      <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {isLoading && ( <div className=\"center\">  <LoadingSpinner /> </div>)}\n\n      <nav className=\"main-navigation__header-nav\">\n        <ul className=\"nav-links\">\n              {!isLoading && dish.category.length>0  &&dish.category.map(cat=>\n                <NavLinks title={cat.category} categoryId={cat.catId} key={cat.catId} />\n              )}\n        </ul>\n      </nav>\n      </React.Fragment>\n    \n  );\n};\n\nexport default MainNavigation;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA2BC,SAA3B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAO,sBAAP;;;AAEA,MAAMC,cAAc,GAAGC,KAAK,IAAI;EAAA;;EAC3B,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;EACA,MAAMS,IAAI,GAAGX,UAAU,CAACG,WAAD,CAAvB;EACA,MAAM;IAAES,SAAF;IAAaC,KAAb;IAAoBC,WAApB;IAAiCC;EAAjC,IAAgDX,aAAa,EAAnE;EACAY,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACO,QAAjB,EAA0B,iBAA1B,EAA4CP,IAAI,CAACO,QAAL,CAAcC,MAAd,GAAqB,CAAjE,EAAmE,CAACP,SAApE;EACAX,SAAS,CAAC,MAAM;IACf,MAAMmB,WAAW,GAAG,YAAY;MAC9B,IAAI;QACF,MAAMC,YAAY,GAAG,MAAMP,WAAW,CACnC,8DADmC,CAAtC;QAGAE,OAAO,CAACC,GAAR,CAAYI,YAAZ;QACAV,IAAI,CAACW,WAAL,CAAiBD,YAAY,CAAC,CAAD,CAA7B;QACAV,IAAI,CAACY,WAAL,CAAiBF,YAAY,CAAC,CAAD,CAA7B;QACAV,IAAI,CAACa,SAAL,CAAeH,YAAY,CAAC,CAAD,CAA3B;QACAX,QAAQ;MAET,CAVD,CAUE,OAAOe,GAAP,EAAY,CAAE;IACjB,CAZD;;IAaAL,WAAW;EACZ,CAfS,EAeP,CAACN,WAAD,CAfO,CAAT;EAkBH,oBAEI,QAAC,KAAD,CAAO,QAAP;IAAA,wBACA,QAAC,UAAD;MAAY,KAAK,EAAED,KAAnB;MAA0B,OAAO,EAAEE;IAAnC;MAAA;MAAA;MAAA;IAAA,QADA,EAECH,SAAS,iBAAM;MAAK,SAAS,EAAC,QAAf;MAAA,8BAA0B,QAAC,cAAD;QAAA;QAAA;QAAA;MAAA,QAA1B;IAAA;MAAA;MAAA;MAAA;IAAA,QAFhB,eAIA;MAAK,SAAS,EAAC,6BAAf;MAAA,uBACE;QAAI,SAAS,EAAC,WAAd;QAAA,UACO,CAACA,SAAD,IAAcD,IAAI,CAACO,QAAL,CAAcC,MAAd,GAAqB,CAAnC,IAAwCR,IAAI,CAACO,QAAL,CAAcQ,GAAd,CAAkBC,GAAG,iBAC5D,QAAC,QAAD;UAAU,KAAK,EAAEA,GAAG,CAACT,QAArB;UAA+B,UAAU,EAAES,GAAG,CAACC;QAA/C,GAA2DD,GAAG,CAACC,KAA/D;UAAA;UAAA;UAAA;QAAA,QADuC;MAD/C;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAJA;EAAA;IAAA;IAAA;IAAA;EAAA,QAFJ;AAgBD,CAvCD;;GAAMpB,c;UACgBN,W,EAEqCE,a;;;KAHrDI,c;AAyCN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}