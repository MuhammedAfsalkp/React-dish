{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/INFOSYS/Desktop/Dish-front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/INFOSYS/Desktop/Dish-front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useEffect}from'react';import{useHistory}from'react-router-dom';import{DishContext}from'../../context/dish-context';import{useHttpClient}from'../../hooks/http-hook';import NavLinks from'./NavLinks';import LoadingSpinner from'../UIElements/LoadingSpinner';import ErrorModal from'../UIElements/ErrorModal';import'./MainNavigation.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainNavigation=function MainNavigation(props){var history=useHistory();var dish=useContext(DishContext);var _useHttpClient=useHttpClient(),isLoading=_useHttpClient.isLoading,error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError;console.log(dish.category,\"main navigation\",dish.category.length>0,!isLoading);useEffect(function(){var fetchDishes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var responseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return sendRequest(\"https://run.mocky.io/v3/a67edc87-49c7-4822-9cb4-e2ef94cb3099\");case 3:responseData=_context.sent;console.log(responseData);dish.setRestname(responseData[0]);dish.setCategory(responseData[0]);dish.setDishes(responseData[0]);history.push('/dishes/11');_context.next=13;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function fetchDishes(){return _ref.apply(this,arguments);};}();fetchDishes();},[sendRequest]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ErrorModal,{error:error,onClear:clearError}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[\"  \",/*#__PURE__*/_jsx(LoadingSpinner,{}),\" \"]}),/*#__PURE__*/_jsx(\"nav\",{className:\"main-navigation__header-nav\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"nav-links\",children:!isLoading&&dish.category.length>0&&dish.category.map(function(cat){return/*#__PURE__*/_jsx(NavLinks,{title:cat.category,categoryId:cat.catId},cat.catId);})})})]});};export default MainNavigation;","map":{"version":3,"names":["React","useContext","useEffect","useHistory","DishContext","useHttpClient","NavLinks","LoadingSpinner","ErrorModal","MainNavigation","props","history","dish","isLoading","error","sendRequest","clearError","console","log","category","length","fetchDishes","responseData","setRestname","setCategory","setDishes","push","map","cat","catId"],"sources":["C:/Users/INFOSYS/Desktop/Dish-front-end/src/shared/components/Navigation/MainNavigation.js"],"sourcesContent":["import React, { useContext,useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { DishContext } from '../../context/dish-context';\nimport { useHttpClient } from '../../hooks/http-hook';\nimport NavLinks from './NavLinks';\nimport LoadingSpinner from '../UIElements/LoadingSpinner';\nimport ErrorModal from '../UIElements/ErrorModal';\nimport './MainNavigation.css';\n\nconst MainNavigation = props => {\n     const history = useHistory()\n     const dish = useContext(DishContext);\n     const { isLoading, error, sendRequest, clearError } = useHttpClient();\n     console.log(dish.category,\"main navigation\",dish.category.length>0,!isLoading)\n     useEffect(() => {\n      const fetchDishes = async () => {\n        try {\n          const responseData = await sendRequest(\n            `https://run.mocky.io/v3/a67edc87-49c7-4822-9cb4-e2ef94cb3099`\n          );\n          console.log(responseData)\n          dish.setRestname(responseData[0])\n          dish.setCategory(responseData[0]);\n          dish.setDishes(responseData[0]);\n          history.push('/dishes/11')\n          \n        } catch (err) {}\n      };\n      fetchDishes();\n    }, [sendRequest]);\n \n\n  return (\n   \n      <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {isLoading && ( <div className=\"center\">  <LoadingSpinner /> </div>)}\n\n      <nav className=\"main-navigation__header-nav\">\n        <ul className=\"nav-links\">\n              {!isLoading && dish.category.length>0  &&dish.category.map(cat=>\n                <NavLinks title={cat.category} categoryId={cat.catId} key={cat.catId} />\n              )}\n        </ul>\n      </nav>\n      </React.Fragment>\n    \n  );\n};\n\nexport default MainNavigation;\n"],"mappings":"0QAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA2BC,SAA3B,KAA4C,OAA5C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,WAAT,KAA4B,4BAA5B,CACA,OAASC,aAAT,KAA8B,uBAA9B,CACA,MAAOC,SAAP,KAAqB,YAArB,CACA,MAAOC,eAAP,KAA2B,8BAA3B,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAO,sBAAP,C,wFAEA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,CAAAC,KAAK,CAAI,CAC3B,GAAMC,QAAO,CAAGR,UAAU,EAA1B,CACA,GAAMS,KAAI,CAAGX,UAAU,CAACG,WAAD,CAAvB,CACA,mBAAsDC,aAAa,EAAnE,CAAQQ,SAAR,gBAAQA,SAAR,CAAmBC,KAAnB,gBAAmBA,KAAnB,CAA0BC,WAA1B,gBAA0BA,WAA1B,CAAuCC,UAAvC,gBAAuCA,UAAvC,CACAC,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACO,QAAjB,CAA0B,iBAA1B,CAA4CP,IAAI,CAACO,QAAL,CAAcC,MAAd,CAAqB,CAAjE,CAAmE,CAACP,SAApE,EACAX,SAAS,CAAC,UAAM,CACf,GAAMmB,YAAW,4FAAG,4LAEWN,YAAW,gEAFtB,QAEVO,YAFU,eAKhBL,OAAO,CAACC,GAAR,CAAYI,YAAZ,EACAV,IAAI,CAACW,WAAL,CAAiBD,YAAY,CAAC,CAAD,CAA7B,EACAV,IAAI,CAACY,WAAL,CAAiBF,YAAY,CAAC,CAAD,CAA7B,EACAV,IAAI,CAACa,SAAL,CAAeH,YAAY,CAAC,CAAD,CAA3B,EACAX,OAAO,CAACe,IAAR,CAAa,YAAb,EATgB,sJAAH,kBAAXL,YAAW,0CAAjB,CAaAA,WAAW,GACZ,CAfS,CAeP,CAACN,WAAD,CAfO,CAAT,CAkBH,mBAEI,MAAC,KAAD,CAAO,QAAP,yBACA,KAAC,UAAD,EAAY,KAAK,CAAED,KAAnB,CAA0B,OAAO,CAAEE,UAAnC,EADA,CAECH,SAAS,eAAM,aAAK,SAAS,CAAC,QAAf,6BAA0B,KAAC,cAAD,IAA1B,OAFhB,cAIA,YAAK,SAAS,CAAC,6BAAf,uBACE,WAAI,SAAS,CAAC,WAAd,UACO,CAACA,SAAD,EAAcD,IAAI,CAACO,QAAL,CAAcC,MAAd,CAAqB,CAAnC,EAAwCR,IAAI,CAACO,QAAL,CAAcQ,GAAd,CAAkB,SAAAC,GAAG,qBAC5D,KAAC,QAAD,EAAU,KAAK,CAAEA,GAAG,CAACT,QAArB,CAA+B,UAAU,CAAES,GAAG,CAACC,KAA/C,EAA2DD,GAAG,CAACC,KAA/D,CAD4D,EAArB,CAD/C,EADF,EAJA,GAFJ,CAgBD,CAvCD,CAyCA,cAAepB,eAAf"},"metadata":{},"sourceType":"module"}